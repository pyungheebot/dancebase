# 프로젝트 규칙

## 언어
- 모든 대화는 한글로 진행한다.

## 에이전트 & 팀

### 커스텀 에이전트 (.claude/agents/)
| 에이전트 | 역할 | 모델 | 사용 시점 |
|---------|------|------|----------|
| **pm** | 요구사항 분석, 태스크 분해 | sonnet | 새 기능 요청 시 가장 먼저 |
| **architect** | 시스템/DB 설계, 기술 의사결정 | opus | 기술 설계가 필요할 때 |
| **db-engineer** | 마이그레이션, RLS, RPC 구현 | sonnet | DB 관련 구현 |
| **frontend-dev** | 컴포넌트, 훅, 타입, UI 구현 | sonnet | 프론트엔드 구현 |
| **qa** | 빌드/기능/보안/회귀 검증 | sonnet | 구현 완료 후 반드시 |
| **reviewer** | 코드 품질/보안/성능 리뷰 | opus | 코드 변경 후 |

### 팀 운영 원칙
- 복잡한 기능(새 기능 추가, DB 스키마 변경 + UI 구현 등)은 TeamCreate로 팀을 만들어 병렬 처리한다.
- 단순한 작업(리팩토링, 버그 수정, 옵션 추가 등)은 팀 없이 직접 처리해도 된다.
- 워크플로우: pm → architect → (db-engineer ∥ frontend-dev) → qa → reviewer
- db-engineer와 frontend-dev는 독립적이므로 항상 병렬 실행한다.
- 구현 완료 후 qa 에이전트로 반드시 검증한다.
- 코드베이스 탐색이 필요하면 Explore 에이전트를 적극 활용한다.

## 개발 서버
- 코드 수정이 끝나면 항상 개발 서버를 재시작한다.
- 시작/재시작 시 `fuser -k 3000/tcp 2>/dev/null`로 포트 3000을 사용 중인 프로세스를 모두 종료한 뒤 `npm run dev`로 시작한다.

## 데이터베이스
- DB 마이그레이션 파일을 생성하거나 수정하면 항상 `npx supabase db push`로 원격 Supabase에 반영한다.
